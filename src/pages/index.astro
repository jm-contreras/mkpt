---
import Layout from '../components/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import CTA from '../components/CTA.astro';
import ServiceCard from '../components/ServiceCard.astro';
import TestimonialPlaceholder from '../components/TestimonialPlaceholder.astro';
import home from '../data/home.js';
import services from '../data/services.js';
const base = import.meta.env.BASE_URL;
---
<Layout>
  <Header slot="header" />
  <div>
    <Hero />

    <section class="mt-16 md:mt-20">
      <p class="text-lg text-slate leading-relaxed max-w-3xl">{home.about_blurb}</p>
    </section>

    <section class="py-16 md:py-20">
      <h2 class="font-heading">Services</h2>

      <div class="mt-10 grid gap-6 md:grid-cols-3">
        {/* First two services with standard styling */}
        {services.slice(0,2).map((s) => (
          <ServiceCard title={s.title} desc={s.desc} link={`${base}services#${s.id}`} />
        ))}

        {/* Featured combo service with gradient */}
        <a href={`${base}services#${services[2].id}`} class="block no-underline group">
          <article class="bg-gradient-to-br from-sage to-sage-dark text-white rounded-xl p-8 hover:shadow-2xl transition-all duration-300 h-full relative">
            <span class="absolute top-4 right-4 text-xs font-semibold bg-white/20 px-3 py-1 rounded-full">Most Popular</span>
            <h3 class="font-heading text-white pr-20">{services[2].title}</h3>
            <p class="mt-4 text-white/90 leading-relaxed">{services[2].desc}</p>
          </article>
        </a>
      </div>
    </section>

    <TestimonialPlaceholder />

    <CTA title="Book a Free Consultation" href={`${base}book`} />
  </div>
  <Footer slot="footer" />
</Layout>
